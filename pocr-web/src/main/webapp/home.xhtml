<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui">  
      
    <h:head>  
  
    </h:head>  
      
    <h:body>  
      
        <ui:composition template="pocr-template.xhtml">
 			<ui:param name="pageName" value="#{msg['home.title']}"/>
 		
	    	<ui:define name="main-content">
	    	
	    		<h:form id="home-form">
		    	
	    			<h:panelGroup id="apps" binding="#{appsComponent}" styleClass="linesGroup" rendered="#{not empty appCollectionBean.apps}"
	    					style="width:100%">
	    				<h:panelGroup layout="block" styleClass="lineOfElements" id="row" style="padding-bottom:30px;">
				    	    	<div class="element" style="width:300px; font-size: 14px; font-weight: 700; color: #339">
									<p:outputLabel id="appNameLbl" value="#{msg['home.appName']}"/>
								</div>
								<div class="element" style="width:300px; font-size: 14px; font-weight: 700; color: #339">
									<p:outputLabel id="actionsLbl" value="#{msg['home.actions']}"/>
								</div>
								
							</h:panelGroup>
				    	<ui:repeat var="app" value="#{appCollectionBean.apps}">
				    	    <h:panelGroup layout="block" styleClass="lineOfElements" id="row">
				    	    	<div class="element" style="width:300px">
									<p:outputLabel id="appName" style="font-weight: 700" value="#{app.name}"/>
								</div>
								<div class="element">
							    	<p:commandButton id="deployApp" value="#{msg['home.deploy']}" disabled="#{app.deployed}"
						    				 icon="ui-icon-script" ajax="true" update="@all" action="#{app.deploy}" />
					  			</div>
								<div class="element">
							    	<p:commandButton id="runApp" value="#{msg['home.run']}" disabled="#{not app.deployed}" 
						    				 icon="ui-icon-play" ajax="true" update="@all" action="#{app.run}" target="_blank" />
					  			</div>
					  			<div class="element">
							    	<p:commandButton id="deleteApp" value="#{msg['home.delete']}" 
						    				 icon="ui-icon-close" ajax="true" update="@all"  />
					  			</div>
					  			
							</h:panelGroup>
				        </ui:repeat>
			        </h:panelGroup>
			        
			        <div style="clear:both"> </div>
			        
			        <h:panelGroup class="messageSection" style="padding:30px; display: block;">
	    				<h:panelGroup style="margin: 10px;" rendered="#{empty appCollectionBean.apps}">
	    					<p:outputLabel value="#{msg['home.welcomeMessage']}" styleClass="message"></p:outputLabel>
	    				</h:panelGroup>
	    			</h:panelGroup>			    	
					<h:panelGroup class="messageSection" style="padding:30px; display: block;">
	    				<div>
	    					<p:commandButton id="addApp" value="#{msg['home.newApp']}" 
						    				 icon="ui-icon-plus" ajax="false" action="newapp?faces-redirect=true" />
	    				</div>
	    			</h:panelGroup>			
			        
				</h:form>    
			    
			</ui:define>        
		</ui:composition>  
          
    </h:body>  
</html>  
